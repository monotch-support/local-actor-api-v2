{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introduction","text":"<p>The Local Actor API is a REST-based JSON API for provisioning AMQP 1.0 connections to send (deliveries) or receive (subscriptions) data.</p>"},{"location":"amqp/","title":"AMQP 1.0","text":"<ul> <li>https://docs.oasis-open.org/amqp/core/v1.0/amqp-core-overview-v1.0.html</li> </ul>"},{"location":"amqp/#jms-message-selectors","title":"JMS Message Selectors","text":"<ul> <li>https://activemq.apache.org/components/classic/documentation/selectors</li> <li>https://www.ibm.com/docs/en/ibm-mq/9.4.x?topic=messages-message-selectors-in-jms</li> <li>https://www.ibm.com/docs/en/integration-bus/10.1?topic=bus-jms-message-selector</li> <li>https://docs.oracle.com/cd/E19957-01/816-5904-10/816-5904-10.pdf (chapter 3.8.1)</li> </ul>"},{"location":"c-roads/","title":"C-Roads","text":"<ul> <li>https://www.c-roads.eu/platform.html</li> <li>https://releases.c-roads.eu/</li> </ul>"},{"location":"connection-management/","title":"Connection Management","text":"<p>Clients must poll their deliveries/subscriptions after creation. Otherwise, the resources may be deprovisioned.</p> <p>Changes detected via polling:</p> <ul> <li>Status updates</li> <li>Endpoint changes</li> </ul>"},{"location":"examples/","title":"Code Examples","text":"Example Description Link Subscription (Python) Simple subscription client GitHub Delivery (Python) Simple delivery client GitHub"},{"location":"openapi/","title":"REST API","text":"<p>The following OpenAPI 3.0.3 specification can be downloaded here</p>"},{"location":"openapi/#local-actor-api-v2-20","title":"Local Actor API v2 2.0","text":""},{"location":"openapi/#subscriptions","title":"Subscriptions","text":""},{"location":"openapi/#post-actorcommonnamesubscriptions","title":"POST /{actorCommonName}/subscriptions","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <p>Request body</p> application/json <p><pre><code>{\n    \"selector\": \"string\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"selector\": {\n            \"type\": \"string\"\n        }\n    },\n    \"title\": \"SubscriptionRequest\"\n}\n</code></pre> <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"id\": \"string\",\n    \"selector\": \"string\",\n    \"status\": \"REQUESTED\",\n    \"endpoints\": [\n        {\n            \"host\": \"string\",\n            \"port\": 0,\n            \"source\": \"string\",\n            \"maxBandwidth\": 0,\n            \"maxMessageRate\": 0\n        }\n    ],\n    \"lastUpdatedTimestamp\": 0\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"id\": {\n            \"type\": \"string\"\n        },\n        \"selector\": {\n            \"type\": \"string\"\n        },\n        \"status\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"REQUESTED\",\n                \"CREATED\",\n                \"ILLEGAL\",\n                \"NOT_VALID\",\n                \"NO_OVERLAP\",\n                \"RESUBSCRIBE\"\n            ]\n        },\n        \"endpoints\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/SubscriptionEndpoint\"\n            }\n        },\n        \"lastUpdatedTimestamp\": {\n            \"type\": \"integer\"\n        }\n    },\n    \"title\": \"Subscription\"\n}\n</code></pre>"},{"location":"openapi/#get-actorcommonnamesubscriptions","title":"GET /{actorCommonName}/subscriptions","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <p> Response 200 OK </p> application/json <p><pre><code>[\n    {\n        \"id\": \"string\",\n        \"selector\": \"string\",\n        \"status\": \"REQUESTED\",\n        \"endpoints\": [\n            {\n                \"host\": \"string\",\n                \"port\": 0,\n                \"source\": \"string\",\n                \"maxBandwidth\": 0,\n                \"maxMessageRate\": 0\n            }\n        ],\n        \"lastUpdatedTimestamp\": 0\n    }\n]\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"array\",\n    \"items\": {\n        \"$ref\": \"#/components/schemas/Subscription\"\n    }\n}\n</code></pre>"},{"location":"openapi/#get-actorcommonnamesubscriptionssubscriptionid","title":"GET /{actorCommonName}/subscriptions/{subscriptionId}","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <code>subscriptionId</code> path string No <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"id\": \"string\",\n    \"selector\": \"string\",\n    \"status\": \"REQUESTED\",\n    \"endpoints\": [\n        {\n            \"host\": \"string\",\n            \"port\": 0,\n            \"source\": \"string\",\n            \"maxBandwidth\": 0,\n            \"maxMessageRate\": 0\n        }\n    ],\n    \"lastUpdatedTimestamp\": 0\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"id\": {\n            \"type\": \"string\"\n        },\n        \"selector\": {\n            \"type\": \"string\"\n        },\n        \"status\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"REQUESTED\",\n                \"CREATED\",\n                \"ILLEGAL\",\n                \"NOT_VALID\",\n                \"NO_OVERLAP\",\n                \"RESUBSCRIBE\"\n            ]\n        },\n        \"endpoints\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/SubscriptionEndpoint\"\n            }\n        },\n        \"lastUpdatedTimestamp\": {\n            \"type\": \"integer\"\n        }\n    },\n    \"title\": \"Subscription\"\n}\n</code></pre>"},{"location":"openapi/#delete-actorcommonnamesubscriptionssubscriptionid","title":"DELETE /{actorCommonName}/subscriptions/{subscriptionId}","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <code>subscriptionId</code> path string No <p> Response 204 No Content </p>"},{"location":"openapi/#get-actorcommonnamesubscriptionscapabilities","title":"GET /{actorCommonName}/subscriptions/capabilities","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <code>selector</code> query string No <p> Response 200 OK </p> application/json <p><pre><code>[\n    {\n        \"application\": {\n            \"messageType\": \"string\",\n            \"protocolVersion\": \"string\",\n            \"publisherId\": \"string\",\n            \"publicationId\": \"string\",\n            \"originatingCountry\": \"string\",\n            \"quadTree\": [\n                \"string\"\n            ]\n        },\n        \"metadata\": {\n            \"shardCount\": 0,\n            \"infoURL\": \"string\",\n            \"redirectPolicy\": \"OPTIONAL\",\n            \"maxBandwidth\": 0,\n            \"maxMessageRate\": 0,\n            \"repetitionInterval\": 0\n        }\n    }\n]\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"array\",\n    \"items\": {\n        \"$ref\": \"#/components/schemas/Capability\"\n    }\n}\n</code></pre>"},{"location":"openapi/#deliveries","title":"Deliveries","text":""},{"location":"openapi/#post-actorcommonnamedeliveries","title":"POST /{actorCommonName}/deliveries","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <p>Request body</p> application/json <p><pre><code>{\n    \"selector\": \"string\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"selector\": {\n            \"type\": \"string\"\n        }\n    },\n    \"title\": \"DeliveryRequest\"\n}\n</code></pre> <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"id\": \"string\",\n    \"selector\": \"string\",\n    \"status\": \"REQUESTED\",\n    \"endpoints\": [\n        {\n            \"host\": \"string\",\n            \"port\": 0,\n            \"target\": \"string\",\n            \"selector\": \"string\",\n            \"maxBandwidth\": 0,\n            \"maxMessageRate\": 0\n        }\n    ],\n    \"lastUpdatedTimestamp\": 0\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"id\": {\n            \"type\": \"string\"\n        },\n        \"selector\": {\n            \"type\": \"string\"\n        },\n        \"status\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"REQUESTED\",\n                \"CREATED\",\n                \"ILLEGAL\",\n                \"NOT_VALID\",\n                \"NO_OVERLAP\"\n            ]\n        },\n        \"endpoints\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/DeliveryEndpoint\"\n            }\n        },\n        \"lastUpdatedTimestamp\": {\n            \"type\": \"integer\"\n        }\n    },\n    \"title\": \"Delivery\"\n}\n</code></pre>"},{"location":"openapi/#get-actorcommonnamedeliveries","title":"GET /{actorCommonName}/deliveries","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <p> Response 200 OK </p> application/json <p><pre><code>[\n    {\n        \"id\": \"string\",\n        \"selector\": \"string\",\n        \"status\": \"REQUESTED\",\n        \"endpoints\": [\n            {\n                \"host\": \"string\",\n                \"port\": 0,\n                \"target\": \"string\",\n                \"selector\": \"string\",\n                \"maxBandwidth\": 0,\n                \"maxMessageRate\": 0\n            }\n        ],\n        \"lastUpdatedTimestamp\": 0\n    }\n]\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"array\",\n    \"items\": {\n        \"$ref\": \"#/components/schemas/Delivery\"\n    }\n}\n</code></pre>"},{"location":"openapi/#get-actorcommonnamedeliveriesdeliveryid","title":"GET /{actorCommonName}/deliveries/{deliveryId}","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <code>deliveryId</code> path string No <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"id\": \"string\",\n    \"selector\": \"string\",\n    \"status\": \"REQUESTED\",\n    \"endpoints\": [\n        {\n            \"host\": \"string\",\n            \"port\": 0,\n            \"target\": \"string\",\n            \"selector\": \"string\",\n            \"maxBandwidth\": 0,\n            \"maxMessageRate\": 0\n        }\n    ],\n    \"lastUpdatedTimestamp\": 0\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"id\": {\n            \"type\": \"string\"\n        },\n        \"selector\": {\n            \"type\": \"string\"\n        },\n        \"status\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"REQUESTED\",\n                \"CREATED\",\n                \"ILLEGAL\",\n                \"NOT_VALID\",\n                \"NO_OVERLAP\"\n            ]\n        },\n        \"endpoints\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/DeliveryEndpoint\"\n            }\n        },\n        \"lastUpdatedTimestamp\": {\n            \"type\": \"integer\"\n        }\n    },\n    \"title\": \"Delivery\"\n}\n</code></pre>"},{"location":"openapi/#delete-actorcommonnamedeliveriesdeliveryid","title":"DELETE /{actorCommonName}/deliveries/{deliveryId}","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <code>deliveryId</code> path string No <p> Response 204 No Content </p>"},{"location":"openapi/#get-actorcommonnamedeliveriescapabilities","title":"GET /{actorCommonName}/deliveries/capabilities","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <code>selector</code> query string No <p> Response 200 OK </p> application/json <p><pre><code>[\n    {\n        \"application\": {\n            \"messageType\": \"string\",\n            \"protocolVersion\": \"string\",\n            \"publisherId\": \"string\",\n            \"publicationId\": \"string\",\n            \"originatingCountry\": \"string\",\n            \"quadTree\": [\n                \"string\"\n            ]\n        },\n        \"metadata\": {\n            \"shardCount\": 0,\n            \"infoURL\": \"string\",\n            \"redirectPolicy\": \"OPTIONAL\",\n            \"maxBandwidth\": 0,\n            \"maxMessageRate\": 0,\n            \"repetitionInterval\": 0\n        }\n    }\n]\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"array\",\n    \"items\": {\n        \"$ref\": \"#/components/schemas/Capability\"\n    }\n}\n</code></pre>"},{"location":"openapi/#capabilities","title":"Capabilities","text":""},{"location":"openapi/#post-actorcommonnamecapabilities","title":"POST /{actorCommonName}/capabilities","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <p>Request body</p> application/json <p><pre><code>{\n    \"application\": {\n        \"messageType\": \"string\",\n        \"protocolVersion\": \"string\",\n        \"publisherId\": \"string\",\n        \"publicationId\": \"string\",\n        \"originatingCountry\": \"string\",\n        \"quadTree\": [\n            \"string\"\n        ]\n    },\n    \"metadata\": {\n        \"shardCount\": 0,\n        \"infoURL\": \"string\",\n        \"redirectPolicy\": \"OPTIONAL\",\n        \"maxBandwidth\": 0,\n        \"maxMessageRate\": 0,\n        \"repetitionInterval\": 0\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"application\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"messageType\": {\n                    \"type\": \"string\"\n                },\n                \"protocolVersion\": {\n                    \"type\": \"string\"\n                },\n                \"publisherId\": {\n                    \"type\": \"string\"\n                },\n                \"publicationId\": {\n                    \"type\": \"string\"\n                },\n                \"originatingCountry\": {\n                    \"type\": \"string\"\n                },\n                \"quadTree\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\"\n                    }\n                }\n            }\n        },\n        \"metadata\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"shardCount\": {\n                    \"type\": \"integer\",\n                    \"default\": 1\n                },\n                \"infoURL\": {\n                    \"type\": \"string\"\n                },\n                \"redirectPolicy\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        \"OPTIONAL\",\n                        \"MANDATORY\",\n                        \"UNAVAILABLE\"\n                    ]\n                },\n                \"maxBandwidth\": {\n                    \"type\": \"integer\"\n                },\n                \"maxMessageRate\": {\n                    \"type\": \"integer\"\n                },\n                \"repetitionInterval\": {\n                    \"type\": \"integer\"\n                }\n            }\n        }\n    },\n    \"title\": \"Capability\"\n}\n</code></pre> <p> Response 200 OK </p> application/json Schema of the response body <pre><code>{\n    \"allOf\": [\n        {\n            \"type\": \"object\",\n            \"properties\": {\n                \"id\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        {\n            \"$ref\": \"#/components/schemas/Capability\"\n        }\n    ],\n    \"title\": \"OnboardingCapability\"\n}\n</code></pre>"},{"location":"openapi/#get-actorcommonnamecapabilities","title":"GET /{actorCommonName}/capabilities","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <p> Response 200 OK </p> application/json <p><pre><code>[\n    null\n]\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"array\",\n    \"items\": {\n        \"$ref\": \"#/components/schemas/OnboardingCapability\"\n    }\n}\n</code></pre>"},{"location":"openapi/#get-actorcommonnamecapabilitiescapabilityid","title":"GET /{actorCommonName}/capabilities/{capabilityId}","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <code>capabilityId</code> path string No <p> Response 200 OK </p> application/json Schema of the response body <pre><code>{\n    \"allOf\": [\n        {\n            \"type\": \"object\",\n            \"properties\": {\n                \"id\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        {\n            \"$ref\": \"#/components/schemas/Capability\"\n        }\n    ],\n    \"title\": \"OnboardingCapability\"\n}\n</code></pre>"},{"location":"openapi/#delete-actorcommonnamecapabilitiescapabilityid","title":"DELETE /{actorCommonName}/capabilities/{capabilityId}","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <code>capabilityId</code> path string No <p> Response 204 No Content </p>"},{"location":"openapi/#certificates","title":"Certificates","text":""},{"location":"openapi/#post-actorcommonnamex509csr","title":"POST /{actorCommonName}/x509/csr","text":"<p>Input parameters</p> Parameter In Type Default Nullable Description <code>actorCommonName</code> path string No <p>Request body</p> application/json <p><pre><code>{\n    \"csr\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURSBSRVFVRVNULS0tLS0KTUlJQ3ZUQ0NBYVVDQVFBd2VERWdNQjRHQ1NxR1NJYjNEUUVKQVJZUmJHVmhibVJsY2tCdU0zSmtMbXhwWm1VeApNekF4QmdOVkJBTU1LbkJwYkc5MGFXNTBaWEpqYUdGdVoyVXVaWFV1ZEd4bGVDNXpaUzV1TTNKa0xteHBabVV1CmRHVnpkREVTTUJBR0ExVUVDZ3dKVGpOeVpDQk1hV1psTVFzd0NRWURWUVFHRXdKT1REQ0NBU0l3RFFZSktvWkkKaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFMT0FsZ2hVR1dBY0tCS1ZxYXZXQnZsUHZTaURvdVhNV01oZwp0eGZFQ1pWNDlsYWxINjZLTTRlRExDMCtqWjlBWmpaNGg4TEYyQS9tZENkeE9UK1hlc3N0YjViSjZiRVZxTUkxCkp3RG1ITVZUaHlYWVhialIvU1JkaTUzS0xhcENGcjMrWC8wQi9aZ1F5Y29FNzMySVJMN2NlOVprQ2tuWTRyUEwKVkhrTVFLZVZ6RVEraTlaSGNmNkNmbTVMY1FJU0RrODB3MndTelBXcjF1b3JnTFJuYXN2N1pCenAyWXVjTHlkdAovMHBBa3BKeUJnejRra1Ixck4yOE5IeUM0RXQxdzdzOHFjcVZSMDFsRWRxdUlmUjVjMHJMdzdIZFZzT0EwOHR4ClN3NndlcmpMQndYV3FrT2tuUVdCd2lRZ0FXQmtRVE9pZHZaZ3RQaVZFMkNoSGVDQzVDY0NBd0VBQWFBQU1BMEcKQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUI0YnZOVG8vVjA3dlcrYnlGRFNoV1pOK05wR3hVbzVXV2N1Nzk1L2lLUgpjK2g5OXUvUnFWY1BPNXkvckJoTVovTUp6VEZZMko2Y3YyK0dZYkJqa1VhTm45MjE2RDhOQU1wRFR6bHEyVFR4CnROYWJ5eE5ubXJYVnZjUXhFZzRDdzlJN3ZXR0VvQzlCN1I1OGxiVGRDNG95M0VBc2J1dHJJT21PRGMvRWR1SnoKMnRSZ3pEeG9OVWRrWWREcFhyRkthTEczRXlTSjFsVEpuN3MzZEl6UCtkdElPOXBjVjJtMUZKQlpsanRWbmpUTgptM2h0UTZtN2JkbXBUTCtTdEEwTUtJZGFmWFE5R2xBS0cxdWNHNCs2RkR3RVhIZmJ4U2drQ3JyQzg0dWt5TGR1CjBJUWs1NUlqTjFnUy84TVZWN0cycm9uN01KSHBNeWFKaWhYMWNGRTd1TjhYCi0tLS0tRU5EIENFUlRJRklDQVRFIFJFUVVFU1QtLS0tLQo=\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"csr\": {\n            \"type\": \"string\",\n            \"example\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURSBSRVFVRVNULS0tLS0KTUlJQ3ZUQ0NBYVVDQVFBd2VERWdNQjRHQ1NxR1NJYjNEUUVKQVJZUmJHVmhibVJsY2tCdU0zSmtMbXhwWm1VeApNekF4QmdOVkJBTU1LbkJwYkc5MGFXNTBaWEpqYUdGdVoyVXVaWFV1ZEd4bGVDNXpaUzV1TTNKa0xteHBabVV1CmRHVnpkREVTTUJBR0ExVUVDZ3dKVGpOeVpDQk1hV1psTVFzd0NRWURWUVFHRXdKT1REQ0NBU0l3RFFZSktvWkkKaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFMT0FsZ2hVR1dBY0tCS1ZxYXZXQnZsUHZTaURvdVhNV01oZwp0eGZFQ1pWNDlsYWxINjZLTTRlRExDMCtqWjlBWmpaNGg4TEYyQS9tZENkeE9UK1hlc3N0YjViSjZiRVZxTUkxCkp3RG1ITVZUaHlYWVhialIvU1JkaTUzS0xhcENGcjMrWC8wQi9aZ1F5Y29FNzMySVJMN2NlOVprQ2tuWTRyUEwKVkhrTVFLZVZ6RVEraTlaSGNmNkNmbTVMY1FJU0RrODB3MndTelBXcjF1b3JnTFJuYXN2N1pCenAyWXVjTHlkdAovMHBBa3BKeUJnejRra1Ixck4yOE5IeUM0RXQxdzdzOHFjcVZSMDFsRWRxdUlmUjVjMHJMdzdIZFZzT0EwOHR4ClN3NndlcmpMQndYV3FrT2tuUVdCd2lRZ0FXQmtRVE9pZHZaZ3RQaVZFMkNoSGVDQzVDY0NBd0VBQWFBQU1BMEcKQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUI0YnZOVG8vVjA3dlcrYnlGRFNoV1pOK05wR3hVbzVXV2N1Nzk1L2lLUgpjK2g5OXUvUnFWY1BPNXkvckJoTVovTUp6VEZZMko2Y3YyK0dZYkJqa1VhTm45MjE2RDhOQU1wRFR6bHEyVFR4CnROYWJ5eE5ubXJYVnZjUXhFZzRDdzlJN3ZXR0VvQzlCN1I1OGxiVGRDNG95M0VBc2J1dHJJT21PRGMvRWR1SnoKMnRSZ3pEeG9OVWRrWWREcFhyRkthTEczRXlTSjFsVEpuN3MzZEl6UCtkdElPOXBjVjJtMUZKQlpsanRWbmpUTgptM2h0UTZtN2JkbXBUTCtTdEEwTUtJZGFmWFE5R2xBS0cxdWNHNCs2RkR3RVhIZmJ4U2drQ3JyQzg0dWt5TGR1CjBJUWs1NUlqTjFnUy84TVZWN0cycm9uN01KSHBNeWFKaWhYMWNGRTd1TjhYCi0tLS0tRU5EIENFUlRJRklDQVRFIFJFUVVFU1QtLS0tLQo=\"\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"certificates\": [\n        \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUU0akNDQXNxZ0F3SUJBZ0lDRWowd0RRWUpLb1pJaHZjTkFRRU5CUUF3UnpFTE1Ba0dBMVVFQmhNQ1UwVXgKRXpBUkJnTlZCQW9NQ2s1dmNtUnBZeUJYWVhreEl6QWhCZ05WQkFNTUdtNTNNeTFwYm5SbGNtTm9ZVzVuWlMxagpZUzUwYkdWNExuTmxNQjRYRFRJeE1URXhPVEV4TURjME5Wb1hEVE15TURJeU5URXhNRGMwTlZvd2VERUxNQWtHCkExVUVCaE1DVGt3eEVqQVFCZ05WQkFvTUNVNHpjbVFnVEdsbVpURXpNREVHQTFVRUF3d3FjR2xzYjNScGJuUmwKY21Ob1lXNW5aUzVsZFM1MGJHVjRMbk5sTG00emNtUXViR2xtWlM1MFpYTjBNU0F3SGdZSktvWklodmNOQVFrQgpGaEZzWldGdVpHVnlRRzR6Y21RdWJHbG1aVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DCmdnRUJBTE9BbGdoVUdXQWNLQktWcWF2V0J2bFB2U2lEb3VYTVdNaGd0eGZFQ1pWNDlsYWxINjZLTTRlRExDMCsKalo5QVpqWjRoOExGMkEvbWRDZHhPVCtYZXNzdGI1Yko2YkVWcU1JMUp3RG1ITVZUaHlYWVhialIvU1JkaTUzSwpMYXBDRnIzK1gvMEIvWmdReWNvRTczMklSTDdjZTlaa0Nrblk0clBMVkhrTVFLZVZ6RVEraTlaSGNmNkNmbTVMCmNRSVNEazgwdzJ3U3pQV3IxdW9yZ0xSbmFzdjdaQnpwMll1Y0x5ZHQvMHBBa3BKeUJnejRra1Ixck4yOE5IeUMKNEV0MXc3czhxY3FWUjAxbEVkcXVJZlI1YzByTHc3SGRWc09BMDh0eFN3NndlcmpMQndYV3FrT2tuUVdCd2lRZwpBV0JrUVRPaWR2Wmd0UGlWRTJDaEhlQ0M1Q2NDQXdFQUFhT0JwakNCb3pBSkJnTlZIUk1FQWpBQU1CRUdDV0NHClNBR0crRUlCQVFRRUF3SUZvREF6QmdsZ2hrZ0JodmhDQVEwRUpoWWtUM0JsYmxOVFRDQkhaVzVsY21GMFpXUWcKUTJ4cFpXNTBJRU5sY25ScFptbGpZWFJsTUI4R0ExVWRJd1FZTUJhQUZFQWtPcjdwL1NPaUI1bTI5RElQMUZOKwpZMlYzTUE0R0ExVWREd0VCL3dRRUF3SUY0REFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVICkF3UXdEUVlKS29aSWh2Y05BUUVOQlFBRGdnSUJBQTAvTXRnOGlaR0t0Mzl0eHBnZWhMV2RSZkxnOVdUQWU5THkKMHgvK0k3RStwZW5mRGZnQW5tU0hVRG93eWo3OUlna1YxTGJETnBuMUEyZ01wTjA3QUwvY1pibUJ3RU14ZDc5cApTR3FjaVJsVlhYKzBhZGVXRDBDYWZlU0FBNE02eWlieldiYlAyREIzQ1BFOTNMTC8zYWN0YlNNTEhqOEFaeFRnCm1VN2lxVTRTd1QrR2hWR0czWFNRZWtZTTBXejJZZzluL2VRWUNDOHpQSzhMWFArbXNzWDVLaW5NMkR1a1IvY1IKblQ3K05LNzdZNzhicjlvUkJleGl3aURyb05UZU1DZFByQVVyRG05STlOQzlrbmZkOU8xTk4rSmlQZG9uNGZOdQpoV1VCWGU1WG8yZEhoNUJEVDNteWJ0MERyZ1hiVVVVQUNnUmdlcnFoa2dJQjA5MUIzWC9nYnZGbDl4SlUwUWwxCml5MUxhYUFaQWR4a2l2dmVmdVdtQnI2UW5sakZHbngxZ3JQcUtqNk5lY3N3ZWN2UjNhV0hTQXlOeWFENDB2MFQKRkRzZk9ZdFkya0t0LzNlQ0UvZk5oRWNLT2xuOVk5RkZJOE04YjVjYUwwS21nQjQ2bExQaHZrcUxrdUhTOXdNZwpGV3pUQlZtZXh4R1VCR2hJYVE3QW5FK0pFVUdtN3dVQWkxai9ZbUdrbG5MSFZTVXZ0Z283aDdJMkJnTjlwNSt4CnBrVkZkQ3hCdi8zTGcwdmRIeDQ3K1lRMCtYTGNhUjRyT0wvdDVReUNwNjFuN29OSFlOclFLUE5XdHZtVzZlbWwKVXQvdkZ6WlhrdysyVGN2TlFqeENBZTN4U0RGZHZMaE5ldzVFQjMvd05HZkVJSVZSZFNxblZOSmVqbEhIV0JCdwpVVzd5MkJuSAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\"\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"certificates\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"string\",\n                \"example\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUU0akNDQXNxZ0F3SUJBZ0lDRWowd0RRWUpLb1pJaHZjTkFRRU5CUUF3UnpFTE1Ba0dBMVVFQmhNQ1UwVXgKRXpBUkJnTlZCQW9NQ2s1dmNtUnBZeUJYWVhreEl6QWhCZ05WQkFNTUdtNTNNeTFwYm5SbGNtTm9ZVzVuWlMxagpZUzUwYkdWNExuTmxNQjRYRFRJeE1URXhPVEV4TURjME5Wb1hEVE15TURJeU5URXhNRGMwTlZvd2VERUxNQWtHCkExVUVCaE1DVGt3eEVqQVFCZ05WQkFvTUNVNHpjbVFnVEdsbVpURXpNREVHQTFVRUF3d3FjR2xzYjNScGJuUmwKY21Ob1lXNW5aUzVsZFM1MGJHVjRMbk5sTG00emNtUXViR2xtWlM1MFpYTjBNU0F3SGdZSktvWklodmNOQVFrQgpGaEZzWldGdVpHVnlRRzR6Y21RdWJHbG1aVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DCmdnRUJBTE9BbGdoVUdXQWNLQktWcWF2V0J2bFB2U2lEb3VYTVdNaGd0eGZFQ1pWNDlsYWxINjZLTTRlRExDMCsKalo5QVpqWjRoOExGMkEvbWRDZHhPVCtYZXNzdGI1Yko2YkVWcU1JMUp3RG1ITVZUaHlYWVhialIvU1JkaTUzSwpMYXBDRnIzK1gvMEIvWmdReWNvRTczMklSTDdjZTlaa0Nrblk0clBMVkhrTVFLZVZ6RVEraTlaSGNmNkNmbTVMCmNRSVNEazgwdzJ3U3pQV3IxdW9yZ0xSbmFzdjdaQnpwMll1Y0x5ZHQvMHBBa3BKeUJnejRra1Ixck4yOE5IeUMKNEV0MXc3czhxY3FWUjAxbEVkcXVJZlI1YzByTHc3SGRWc09BMDh0eFN3NndlcmpMQndYV3FrT2tuUVdCd2lRZwpBV0JrUVRPaWR2Wmd0UGlWRTJDaEhlQ0M1Q2NDQXdFQUFhT0JwakNCb3pBSkJnTlZIUk1FQWpBQU1CRUdDV0NHClNBR0crRUlCQVFRRUF3SUZvREF6QmdsZ2hrZ0JodmhDQVEwRUpoWWtUM0JsYmxOVFRDQkhaVzVsY21GMFpXUWcKUTJ4cFpXNTBJRU5sY25ScFptbGpZWFJsTUI4R0ExVWRJd1FZTUJhQUZFQWtPcjdwL1NPaUI1bTI5RElQMUZOKwpZMlYzTUE0R0ExVWREd0VCL3dRRUF3SUY0REFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVICkF3UXdEUVlKS29aSWh2Y05BUUVOQlFBRGdnSUJBQTAvTXRnOGlaR0t0Mzl0eHBnZWhMV2RSZkxnOVdUQWU5THkKMHgvK0k3RStwZW5mRGZnQW5tU0hVRG93eWo3OUlna1YxTGJETnBuMUEyZ01wTjA3QUwvY1pibUJ3RU14ZDc5cApTR3FjaVJsVlhYKzBhZGVXRDBDYWZlU0FBNE02eWlieldiYlAyREIzQ1BFOTNMTC8zYWN0YlNNTEhqOEFaeFRnCm1VN2lxVTRTd1QrR2hWR0czWFNRZWtZTTBXejJZZzluL2VRWUNDOHpQSzhMWFArbXNzWDVLaW5NMkR1a1IvY1IKblQ3K05LNzdZNzhicjlvUkJleGl3aURyb05UZU1DZFByQVVyRG05STlOQzlrbmZkOU8xTk4rSmlQZG9uNGZOdQpoV1VCWGU1WG8yZEhoNUJEVDNteWJ0MERyZ1hiVVVVQUNnUmdlcnFoa2dJQjA5MUIzWC9nYnZGbDl4SlUwUWwxCml5MUxhYUFaQWR4a2l2dmVmdVdtQnI2UW5sakZHbngxZ3JQcUtqNk5lY3N3ZWN2UjNhV0hTQXlOeWFENDB2MFQKRkRzZk9ZdFkya0t0LzNlQ0UvZk5oRWNLT2xuOVk5RkZJOE04YjVjYUwwS21nQjQ2bExQaHZrcUxrdUhTOXdNZwpGV3pUQlZtZXh4R1VCR2hJYVE3QW5FK0pFVUdtN3dVQWkxai9ZbUdrbG5MSFZTVXZ0Z283aDdJMkJnTjlwNSt4CnBrVkZkQ3hCdi8zTGcwdmRIeDQ3K1lRMCtYTGNhUjRyT0wvdDVReUNwNjFuN29OSFlOclFLUE5XdHZtVzZlbWwKVXQvdkZ6WlhrdysyVGN2TlFqeENBZTN4U0RGZHZMaE5ldzVFQjMvd05HZkVJSVZSZFNxblZOSmVqbEhIV0JCdwpVVzd5MkJuSAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\"\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"openapi/#schemas","title":"Schemas","text":""},{"location":"openapi/#capability","title":"Capability","text":"Name Type <code>application</code> Properties: <code>messageType, protocolVersion, publisherId, publicationId, originatingCountry, quadTree</code> <code>metadata</code> Properties: <code>shardCount, infoURL, redirectPolicy, maxBandwidth, maxMessageRate, repetitionInterval</code>"},{"location":"openapi/#certificatesignrequest","title":"CertificateSignRequest","text":"Name Type <code>csr</code> string"},{"location":"openapi/#certificatesignresponse","title":"CertificateSignResponse","text":"Name Type <code>certificates</code> Array&lt;string&gt;"},{"location":"openapi/#delivery","title":"Delivery","text":"Name Type <code>endpoints</code> Array&lt;DeliveryEndpoint&gt; <code>id</code> string <code>lastUpdatedTimestamp</code> integer <code>selector</code> string <code>status</code> string"},{"location":"openapi/#deliveryendpoint","title":"DeliveryEndpoint","text":"Name Type <code>host</code> string <code>maxBandwidth</code> integer <code>maxMessageRate</code> integer <code>port</code> integer <code>selector</code> string <code>target</code> string"},{"location":"openapi/#deliveryrequest","title":"DeliveryRequest","text":"Name Type <code>selector</code> string"},{"location":"openapi/#onboardingcapability","title":"OnboardingCapability","text":"<p>Type: </p>"},{"location":"openapi/#subscription","title":"Subscription","text":"Name Type <code>endpoints</code> Array&lt;SubscriptionEndpoint&gt; <code>id</code> string <code>lastUpdatedTimestamp</code> integer <code>selector</code> string <code>status</code> string"},{"location":"openapi/#subscriptionendpoint","title":"SubscriptionEndpoint","text":"Name Type <code>host</code> string <code>maxBandwidth</code> integer <code>maxMessageRate</code> integer <code>port</code> integer <code>source</code> string"},{"location":"openapi/#subscriptionrequest","title":"SubscriptionRequest","text":"Name Type <code>selector</code> string"},{"location":"security/","title":"Security","text":"<ul> <li>Uses TLS v1.3 with Client Certificate Authentication</li> <li>The certificate's Common Name (<code>CN</code>) is used as client identity (<code>actorCommonName</code>)</li> <li>SASL-EXTERNAL must be used for AMQP authentication</li> </ul>"},{"location":"usage-policy/","title":"Usage Policy","text":"<ul> <li>GET/DELETE: max 1 request per 5 seconds per path</li> <li>POST: max 1 request per 30 seconds per path</li> </ul> <p>Violating these policies may result in access revocation.</p>"},{"location":"usage/","title":"Endpoints","text":""},{"location":"usage/#subscriptions","title":"Subscriptions","text":""},{"location":"usage/#create-subscription","title":"Create subscription","text":"<p><code>POST /{clientCommonName}/subscriptions</code></p> <p>Create a new subscription. <pre><code>{\n  \"selector\": \"&lt;JMS selector&gt;\"\n}\n</code></pre></p> <ul> <li>Empty selector: subscribe to all data  </li> <li>Example: <code>messageType = 'SPATEM' AND publisherId = 'NL12345'</code></li> </ul> <p>Response: <pre><code>{\n  \"id\": \"&lt;subscriptionId&gt;\",\n  \"status\": \"CREATED\",\n  \"endpoints\": [\n    {\n      \"host\": \"amqp.example.net\",\n      \"port\": 5671,\n      \"source\": \"/some/source\",\n      \"maxBandwidth\": 10000,\n      \"maxMessageRate\": 50\n    }\n  ],\n  \"lastUpdatedTimestamp\": 1713800000000\n}\n</code></pre></p>"},{"location":"usage/#get-all-subscriptions","title":"Get all subscriptions","text":"<p><code>GET /{clientCommonName}/subscriptions</code></p> <p>List all subscriptions.</p>"},{"location":"usage/#poll-subscription","title":"Poll subscription","text":"<p><code>GET /{clientCommonName}/subscriptions/{subscriptionId}</code></p> <p>Retrieve details of a specific subscription (for polling).</p>"},{"location":"usage/#delete-subscription","title":"Delete subscription","text":"<p><code>DELETE /{clientCommonName}/subscriptions/{subscriptionId}</code></p> <p>Delete a subscription. Returns HTTP <code>204</code>.</p>"},{"location":"usage/#deliveries","title":"Deliveries","text":""},{"location":"usage/#create-delivery","title":"Create delivery","text":"<p><code>POST /{clientCommonName}/deliveries</code></p> <p>Create a new delivery. <pre><code>{\n  \"selector\": \"&lt;JMS selector&gt;\"\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"id\": \"&lt;deliveryId&gt;\",\n  \"status\": \"CREATED\",\n  \"endpoints\": [\n    {\n      \"host\": \"amqp.example.net\",\n      \"port\": 5671,\n      \"target\": \"/some/target\",\n      \"maxBandwidth\": 5000,\n      \"maxMessageRate\": 20\n    }\n  ],\n  \"lastUpdatedTimestamp\": 1713800000000\n}\n</code></pre></p>"},{"location":"usage/#get-all-deliveries","title":"Get all deliveries","text":"<p><code>GET /{clientCommonName}/deliveries</code></p> <p>List all deliveries.</p>"},{"location":"usage/#poll-delivery","title":"Poll delivery","text":"<p><code>GET /{clientCommonName}/deliveries/{deliveryId}</code></p> <p>Retrieve details of a specific delivery (for polling).</p>"},{"location":"usage/#delete-delivery","title":"Delete delivery","text":"<p><code>DELETE /{clientCommonName}/deliveries/{deliveryId}</code></p> <p>Delete a delivery. Returns HTTP <code>204</code>.</p>"},{"location":"examples/delivery/","title":"Creating a delivery and sending data","text":""},{"location":"examples/delivery/#configuration","title":"Configuration","text":"Python <pre><code>ACTOR_API_HOST=os.environ.get(\"ACTOR_API_HOST\", \"hostname_of_the_actor_api\")\nACTOR_API_PORT=os.environ.get(\"ACTOR_API_PORT\", \"port_of_the_actor_api\")\nACTOR_API_DELIVERY_SELECTOR=os.environ.get(\"ACTOR_API_DELIVERY_SELECTOR\", \"selector_of_the_delivery\")\nACTOR_COMMON_NAME=os.environ.get(\"ACTOR_COMMON_NAME\", \"cn_of_the_actor_client_certificate\")\nACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM=os.environ.get(\"ACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM\", \"pem_with_x509_certificate_chain_and_private_key\")\nCA_CERTIFICATE_PEM=os.environ.get(\"CA_CERTIFICATE_PEM\", \"pem_with_x509_certificate\")\nMESSAGE_APPLICATION_PROPERTIES_JSON=os.environ.get(\"MESSAGE_APPLICATION_PROPERTIES_JSON\", \"message_application_properties_json\")\n</code></pre> <p>Explanation</p> <p>TODO</p>"},{"location":"examples/delivery/#api-functions","title":"API Functions","text":"Python <pre><code>def api_url(endpoint):\n    return \"https://%s:%s/%s/%s\" % (ACTOR_API_HOST, ACTOR_API_PORT, ACTOR_COMMON_NAME, endpoint) \n\ndef api_get(endpoint):\n    return requests.get(api_url(endpoint), verify=CA_CERTIFICATE_PEM, cert=ACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM)\n\ndef api_post(endpoint, json_data):\n    return requests.post(api_url(endpoint), None, json_data, verify=CA_CERTIFICATE_PEM, cert=ACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM)\n\ndef api_delete(endpoint):\n    return requests.delete(api_url(endpoint), verify=CA_CERTIFICATE_PEM, cert=ACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM)\n\ndef api_get_delivery(id):\n    return api_get(\"deliveries/%s\" % id)\n\ndef api_delete_delivery(id):\n    return api_delete(\"deliveries/%s\" % id)\n\ndef api_create_delivery():\n    json_data = {\n        \"selector\": ACTOR_API_DELIVERY_SELECTOR\n    }\n    return api_post(\"deliveries\", json_data)    \n</code></pre>"},{"location":"examples/delivery/#amqp-10-client","title":"AMQP 1.0 Client","text":"Python <pre><code>def amqp_create_ssl_config():\n    ssl_config = SSLDomain(SSLDomain.MODE_CLIENT)\n    ssl_config.set_peer_authentication(SSLDomain.ANONYMOUS_PEER)\n    ssl_config.set_credentials(cert_file=ACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM, key_file=ACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM, password=None)\n    ssl_config.set_trusted_ca_db(CA_CERTIFICATE_PEM)\n    return ssl_config\n\nclass Sender(MessagingHandler):\n    def __init__(self, endpoint):\n        super(Sender, self).__init__()\n        self.__endpoint = endpoint\n\n    def on_start(self, event):\n        logging.debug(\"Container reactor started\")\n        container = event.container\n        endpoint = self.__endpoint\n\n        # Step 1: connect\n        ssl_config = amqp_create_ssl_config()\n        amqp_url = \"amqps://%s:%s\" % (endpoint[\"host\"], endpoint[\"port\"])\n        connection = container.connect(amqp_url, ssl_domain = ssl_config, reconnect = False, heartbeat = 5)\n\n        # Step 2: create a sending link using the target address of the endpoint\n        self.sender_link = container.create_sender(connection, endpoint[\"target\"])\n        self.sending = True\n\n    def send_message(self):\n        self.sending = False\n        message = Message(body=\"Hello World!\", properties=json.loads(MESSAGE_APPLICATION_PROPERTIES_JSON))\n        logging.info(\"Sending message %s\", message)\n        self.sender_link.send(message)\n\n    def on_sendable(self, event):\n        if self.sending:\n            self.send_message()\n\n    def on_settled(self, event):\n        logging.info(\"Message %s settled\", event.delivery)\n        self.sending = True\n\n    def on_reactor_quiesced(self, event):\n        if self.sending:\n            self.send_message()\n\ndef amqp_connect_and_publish(endpoint):\n    sender = Sender(endpoint)\n    container = Container(sender)\n    thread = threading.Thread(name = \"AMQPClient\", target = container.run, daemon = True)\n    thread.start()\n    while thread.is_alive():\n        time.sleep(1)\n</code></pre>"},{"location":"examples/delivery/#create-a-delivery","title":"Create a delivery","text":"Python <pre><code>delivery_create_response = api_create_delivery()\ndelivery_create_response_json = delivery_create_response.json();\n</code></pre>"},{"location":"examples/delivery/#poll-the-delivery","title":"Poll the delivery","text":"Python <pre><code>delivery_id = delivery_create_response_json[\"id\"]\ndelivery_status_response = api_get_delivery(delivery_id)\ndelivery_status_response_json = delivery_status_response.json()\nlog_json(\"Delivery %s status response\" % delivery_id, delivery_status_response_json)\ndelivery_status = delivery_status_response_json[\"status\"]\n</code></pre>"},{"location":"examples/delivery/#keep-polling-the-delivery-while-requested","title":"Keep polling the delivery while <code>REQUESTED</code>","text":"Python <pre><code>while delivery_status == \"REQUESTED\":\n    time.sleep(2)\n    delivery_status_response = api_get_delivery(delivery_id)\n    delivery_status_response_json = delivery_status_response.json()\n    delivery_status = delivery_status_response_json[\"status\"]\n\nlog_json(\"Delivery %s status response\" % delivery_id, delivery_status_response_json)\n</code></pre>"},{"location":"examples/delivery/#use-the-endpoint-information-to-connect","title":"Use the endpoint information to connect","text":"Python <pre><code>if delivery_status == \"CREATED\":\n    # NOTE to keep things simple, this code assumes that this response contains exactly one endpoint!\n    endpoint = delivery_status_response_json[\"endpoints\"][0]\n    logging.info(\"Using endpoint %s\" % endpoint)\n    amqp_connect_and_publish(endpoint)\n</code></pre>"},{"location":"examples/delivery/#full-examples","title":"Full examples","text":"Language Location Python examples/delivery/python"},{"location":"examples/subscription/","title":"Creating a subscription and receiving data","text":""},{"location":"examples/subscription/#configuration","title":"Configuration","text":"Python <pre><code>ACTOR_API_HOST=os.environ.get(\"ACTOR_API_HOST\", \"hostname_of_the_actor_api\")\nACTOR_API_PORT=os.environ.get(\"ACTOR_API_PORT\", \"port_of_the_actor_api\")\nACTOR_API_SUBSCRIPTION_SELECTOR=os.environ.get(\"ACTOR_API_SUBSCRIPTION_SELECTOR\", \"selector_of_the_subscription\")\nACTOR_COMMON_NAME=os.environ.get(\"ACTOR_COMMON_NAME\", \"cn_of_the_actor_client_certificate\")\nACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM=os.environ.get(\"ACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM\", \"pem_with_x509_certificate_chain_and_private_key\")\nCA_CERTIFICATE_PEM=os.environ.get(\"CA_CERTIFICATE_PEM\", \"pem_with_x509_certificate\")\n</code></pre> <p>Explanation</p> <p>TODO</p>"},{"location":"examples/subscription/#api-functions","title":"API Functions","text":"Python <pre><code>def api_url(endpoint):\n    return \"https://%s:%s/%s/%s\" % (ACTOR_API_HOST, ACTOR_API_PORT, ACTOR_COMMON_NAME, endpoint) \n\ndef api_get(endpoint):\n    return requests.get(api_url(endpoint), verify=CA_CERTIFICATE_PEM, cert=ACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM)\n\ndef api_post(endpoint, json_data):\n    return requests.post(api_url(endpoint), None, json_data, verify=CA_CERTIFICATE_PEM, cert=ACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM)\n\ndef api_delete(endpoint):\n    return requests.delete(api_url(endpoint), verify=CA_CERTIFICATE_PEM, cert=ACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM)\n\ndef api_get_subscription(id):\n    return api_get(\"subscriptions/%s\" % id)\n\ndef api_delete_subscription(id):\n    return api_delete(\"subscriptions/%s\" % id)\n\ndef api_create_subscription():\n    json_data = {\n        \"selector\": ACTOR_API_SUBSCRIPTION_SELECTOR\n    }\n    return api_post(\"subscriptions\", json_data) \n</code></pre>"},{"location":"examples/subscription/#amqp-10-client","title":"AMQP 1.0 Client","text":"Python <pre><code>def amqp_create_ssl_config():\n    ssl_config = SSLDomain(SSLDomain.MODE_CLIENT)\n    ssl_config.set_peer_authentication(SSLDomain.ANONYMOUS_PEER)\n    ssl_config.set_credentials(cert_file=ACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM, key_file=ACTOR_CERTIFICATE_CHAIN_AND_KEY_PEM, password=None)\n    ssl_config.set_trusted_ca_db(CA_CERTIFICATE_PEM)\n    return ssl_config\n\nclass Receiver(MessagingHandler):\n    def __init__(self, endpoint):\n        super(Receiver, self).__init__()\n        self.__endpoint = endpoint\n\n    def on_start(self, event):\n        logging.debug(\"Container reactor started\")\n        container = event.container\n        endpoint = self.__endpoint\n\n        # Step 1: connect\n        ssl_config = amqp_create_ssl_config()\n        amqp_url = \"amqps://%s:%s\" % (endpoint[\"host\"], endpoint[\"port\"])\n        connection = container.connect(amqp_url, ssl_domain = ssl_config, reconnect = False, heartbeat = 5)\n\n        # Step 2: create a receiving link using the source address of the endpoint\n        container.create_receiver(connection, endpoint[\"source\"])\n\n    def on_message(self, event):\n        logging.info(\"Message received: %s\", event.message)\n\ndef amqp_connect_and_listen(endpoint):\n    receiver = Receiver(endpoint)\n    container = Container(receiver)\n    thread = threading.Thread(name = \"AMQPClient\", target = container.run, daemon = True)\n    thread.start()\n    while thread.is_alive():\n        time.sleep(1)\n</code></pre>"},{"location":"examples/subscription/#create-a-subscription","title":"Create a subscription","text":"Python <pre><code>subscription_create_response = api_create_subscription()\nsubscription_create_response_json = subscription_create_response.json();\n</code></pre>"},{"location":"examples/subscription/#poll-the-subscription","title":"Poll the subscription","text":"Python <pre><code>subscription_id = subscription_create_response_json[\"id\"]\nsubscription_status_response = api_get_subscription(subscription_id)\nsubscription_status_response_json = subscription_status_response.json()\nlog_json(\"Subscription %s status response\" % subscription_id, subscription_status_response_json)\nsubscription_status = subscription_status_response_json[\"status\"]\n</code></pre>"},{"location":"examples/subscription/#keep-polling-the-subscription-while-requested","title":"Keep polling the subscription while <code>REQUESTED</code>","text":"Python <pre><code>while subscription_status == \"REQUESTED\":\n    time.sleep(2)\n    subscription_status_response = api_get_subscription(subscription_id)\n    subscription_status_response_json = subscription_status_response.json()\n    subscription_status = subscription_status_response_json[\"status\"]\n\nlog_json(\"Subscription %s status response\" % subscription_id, subscription_status_response_json)\n</code></pre>"},{"location":"examples/subscription/#use-the-endpoint-information-to-connect","title":"Use the endpoint information to connect","text":"Python <pre><code>if subscription_status == \"CREATED\":\n    # NOTE to keep things simple, this code assumes that this response contains exactly one endpoint!\n    endpoint = subscription_status_response_json[\"endpoints\"][0]\n    logging.info(\"Using endpoint %s\" % endpoint)\n    amqp_connect_and_listen(endpoint)\n</code></pre>"},{"location":"examples/subscription/#full-examples","title":"Full examples","text":"Language Location Python examples/subscription/python"}]}